import{_ as o,Q as l,v as r,z as p,K as a,U as n,ab as t,A as i}from"./chunks/framework.C3K8O85p.js";const v=JSON.parse('{"title":"Autentica√ß√£o e Cabe√ßalhos","description":"","frontmatter":{"title":"Autentica√ß√£o e Cabe√ßalhos"},"headers":[],"relativePath":"pt-br/auth-ambiente.md","filePath":"pt-br/auth-ambiente.md"}'),d={name:"pt-br/auth-ambiente.md"};function h(c,s,k,u,g,m){const e=l("ApiCard");return p(),r("div",null,[s[0]||(s[0]=a("h2",{id:"üîß-cabecalhos-http-obrigatorios",tabindex:"-1"},[i("üîß Cabe√ßalhos HTTP obrigat√≥rios "),a("a",{class:"header-anchor",href:"#üîß-cabecalhos-http-obrigatorios","aria-label":'Permalink to "üîß Cabe√ßalhos HTTP obrigat√≥rios"'},"‚Äã")],-1)),s[1]||(s[1]=a("p",null,"Todas as requisi√ß√µes para a API devem incluir os seguintes cabe√ßalhos:",-1)),n(e,{title:"request.headers",items:[{key:"Authorization",description:"Basic base64(usuario:senha) ‚Äî autentica√ß√£o do usu√°rio.",color:"blue"},{key:"X-AGILE-CLIENT",description:"<code>EXTERNAL_APP</code> ‚Äî indica que a requisi√ß√£o √© externa.",color:"purple"},{key:"Accept-Version",description:"<code>2020-02-26</code> ‚Äî define a vers√£o da API v3 a ser usada.",color:"pink"}]}),s[2]||(s[2]=a("h2",{id:"üìÖ-versionamento-via-cabecalho",tabindex:"-1"},[i("üìÖ Versionamento via cabe√ßalho "),a("a",{class:"header-anchor",href:"#üìÖ-versionamento-via-cabecalho","aria-label":'Permalink to "üìÖ Versionamento via cabe√ßalho"'},"‚Äã")],-1)),s[3]||(s[3]=a("p",null,[i("A API v3 usa "),a("strong",null,"versionamento por data"),i(" atrav√©s do cabe√ßalho "),a("code",null,"Accept-Version"),i(". Isso significa que voc√™ escolhe explicitamente qual vers√£o da API usar, garantindo que sua integra√ß√£o nunca quebre inesperadamente.")],-1)),s[4]||(s[4]=a("h3",{id:"como-funciona",tabindex:"-1"},[i("Como funciona "),a("a",{class:"header-anchor",href:"#como-funciona","aria-label":'Permalink to "Como funciona"'},"‚Äã")],-1)),n(e,{title:"Accept-Version header",items:[{key:"Vers√£o atual:",description:"<code>2020-02-26</code>",color:"green"},{key:"Formato:",description:"<code>YYYY-MM-DD</code> (data de lan√ßamento)",color:"blue"},{key:"Obrigat√≥rio:",description:"Sim, em todas as requisi√ß√µes v3",color:"purple"}]}),s[5]||(s[5]=t(`<h3 id="por-que-usar-versionamento" tabindex="-1">Por que usar versionamento? <a class="header-anchor" href="#por-que-usar-versionamento" aria-label="Permalink to &quot;Por que usar versionamento?&quot;">‚Äã</a></h3><p><strong>Exemplo pr√°tico do dia a dia:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sua integra√ß√£o atual (funcionando perfeitamente):</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Accept-Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2020-02-26</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Se a API lan√ßar uma nova vers√£o com mudan√ßas:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Accept-Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2021-05-14</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Nova vers√£o com novos campos</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sua integra√ß√£o antiga continua funcionando:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Accept-Version:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2020-02-26</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  # Sempre funciona!</span></span></code></pre></div><h3 id="migrando-entre-versoes" tabindex="-1">Migrando entre vers√µes <a class="header-anchor" href="#migrando-entre-versoes" aria-label="Permalink to &quot;Migrando entre vers√µes&quot;">‚Äã</a></h3><p>Quando quiser usar novos recursos:</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-lbRj0" id="tab-lFCnb0A" checked><label data-title="JavaScript" for="tab-lFCnb0A">JavaScript</label><input type="radio" name="group-lbRj0" id="tab-5nCCcCp"><label data-title="Python" for="tab-5nCCcCp">Python</label><input type="radio" name="group-lbRj0" id="tab-rYwbnFm"><label data-title="cURL" for="tab-rYwbnFm">cURL</label></div><div class="blocks"><div class="language-js vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> stage</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> require</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@involves/stage-sdk&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stage.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">configure</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  apiVersion: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2020-02-26&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  credentials: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    username: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;usuario&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    password: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;senha&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">});</span></span></code></pre></div><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> involves </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> stage</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">stage.configure(</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    api_version</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;2020-02-26&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">    credentials</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;username&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;usuario&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;password&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;senha&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Accept-Version: 2020-02-26&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -H</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;X-AGILE-CLIENT: EXTERNAL_APP&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">     -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> usuario:senha</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     https://api.involves.com/webservices/api/v3/...</span></span></code></pre></div></div></div><div class="tip custom-block"><p class="custom-block-title">Benef√≠cios do versionamento</p><ul><li><strong>Zero downtime:</strong> Sua integra√ß√£o nunca quebra</li><li><strong>Migra√ß√£o gradual:</strong> Teste novas vers√µes sem afetar produ√ß√£o</li><li><strong>Controle total:</strong> Voc√™ decide quando atualizar</li><li><strong>Compatibilidade:</strong> Vers√µes antigas sempre funcionam</li></ul></div><div class="warning custom-block"><p class="custom-block-title">‚ö†Ô∏è Importante</p><ul><li><strong>v1 e v2:</strong> N√£o precisam do header <code>Accept-Version</code></li><li><strong>v3+:</strong> O header √© <strong>obrigat√≥rio</strong> em todas as requisi√ß√µes</li><li><strong>Vers√£o padr√£o:</strong> Sempre use <code>2020-02-26</code> a menos que precise de recursos espec√≠ficos</li></ul></div><h2 id="üîê-autenticacao" tabindex="-1">üîê Autentica√ß√£o <a class="header-anchor" href="#üîê-autenticacao" aria-label="Permalink to &quot;üîê Autentica√ß√£o&quot;">‚Äã</a></h2><p>A API oferece <strong>duas formas</strong> de autentica√ß√£o. Voc√™ pode escolher a que preferir:</p><h3 id="opcao-1-credenciais-diretas-recomendado-para-desenvolvimento" tabindex="-1">Op√ß√£o 1: Credenciais diretas (Recomendado para desenvolvimento) <a class="header-anchor" href="#opcao-1-credenciais-diretas-recomendado-para-desenvolvimento" aria-label="Permalink to &quot;Op√ß√£o 1: Credenciais diretas (Recomendado para desenvolvimento)&quot;">‚Äã</a></h3><p>Use seu <strong>usu√°rio e senha</strong> do Involves Stage diretamente:</p>`,12)),n(e,{title:"Authorization header - Credenciais diretas",items:[{key:"Usu√°rio:",description:"<code>seuUsuarioDoInvolvesStage</code>",color:"blue"},{key:"Senha:",description:"<code>suaSenhaDoInvolvesStage</code>",color:"purple"},{key:"Header completo:",description:"<code>Authorization: Basic base64(usuario:senha)</code>",color:"pink"}]}),s[6]||(s[6]=t(`<p><strong>Exemplo pr√°tico:</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Seu usu√°rio: &quot;joao.silva&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Sua senha: &quot;minhaSenha123&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># No terminal:</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;joao.silva:minhaSenha123&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> base64</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Resultado: am9hby5zaWx2YTptaW5oYVNlbmhhMTIz</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Header final:</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Authorization:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Basic</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> am9hby5zaWx2YTptaW5oYVNlbmhhMTIz</span></span></code></pre></div><h3 id="opcao-2-credenciais-pre-codificadas" tabindex="-1">Op√ß√£o 2: Credenciais pr√©-codificadas <a class="header-anchor" href="#opcao-2-credenciais-pre-codificadas" aria-label="Permalink to &quot;Op√ß√£o 2: Credenciais pr√©-codificadas&quot;">‚Äã</a></h3><p>Use credenciais j√° codificadas em Base64 (√∫til para ambientes de produ√ß√£o):</p>`,4)),n(e,{title:"Authorization header - Credenciais pr√©-codificadas",items:[{key:"Header completo:",description:"<code>Authorization: Basic YWdpbGl0bzppbnZvbHZlcw==</code>",color:"pink"}]}),s[7]||(s[7]=t('<div class="tip custom-block"><p class="custom-block-title">üí° Dicas para desenvolvedores</p><ul><li><strong>Para testes:</strong> Use a Op√ß√£o 1 com suas credenciais reais</li><li><strong>Para produ√ß√£o:</strong> Use a Op√ß√£o 2 com credenciais espec√≠ficas do ambiente</li><li><strong>No JavaScript:</strong> <code>btoa(&#39;usuario:senha&#39;)</code> gera o Base64 automaticamente</li><li><strong>No Python:</strong> <code>base64.b64encode(&#39;usuario:senha&#39;.encode()).decode()</code></li><li><strong>No cURL:</strong> Use <code>-u usuario:senha</code> e o cURL faz o Base64 automaticamente</li></ul></div><div class="warning custom-block"><p class="custom-block-title">‚ö†Ô∏è Seguran√ßa</p><ul><li>Nunca commite credenciais no c√≥digo</li><li>Use vari√°veis de ambiente para armazenar senhas</li><li>Em produ√ß√£o, considere usar tokens de API quando dispon√≠veis</li></ul></div><h2 id="üåç-identificacao-do-ambiente-environment-id" tabindex="-1">üåç Identifica√ß√£o do Ambiente (Environment ID) <a class="header-anchor" href="#üåç-identificacao-do-ambiente-environment-id" aria-label="Permalink to &quot;üåç Identifica√ß√£o do Ambiente (Environment ID)&quot;">‚Äã</a></h2><p>A maioria dos endpoints exige o <code>environmentId</code>. A URL completa fica assim:</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">https:</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//exemplo.involves.com/webservices/api/v3/environments/{environmentId}</span></span></code></pre></div><p>Para obter o ID correto:</p><ol><li>V√° at√© <strong>Administra√ß√£o de Ambientes</strong> no Involves Stage.</li><li>Selecione o ambiente desejado e clique em <strong>Editar</strong>.</li><li>Copie o ID do ambiente exibido na URL do navegador.</li></ol><div class="tip custom-block"><p class="custom-block-title">üí° Dica Pro</p><ul><li>Use o atalho <strong>Ctrl + K ‚Üí Administra√ß√£o de Ambientes</strong> para encontrar a tela rapidamente.</li></ul></div>',8))])}const E=o(d,[["render",h]]);export{v as __pageData,E as default};
