import{h as k,$ as h,aA as y,aB as _,y as z,z as C,j as B,ax as E}from"./theme.ChnCFiOV.js";import{k as g,a as V,v,w as I,n as j,z as n,K as o,C as c,E as u,D as p,U as m,u as l,F as x}from"./framework.ZtjFAS4N.js";const D={class:"flex h-full w-full flex-col gap-2 pt-8"},M={class:"flex min-h-8 items-center justify-between gap-2 pl-1.5"},N={class:"has-[:focus-visible]:bg-b-1 group relative z-1 flex flex-col rounded-lg"},U={class:"flex h-full min-h-[calc(1rem*4)] flex-col"},F={key:1,class:"text-c-3 flex h-full items-center justify-center rounded-lg border p-4"},P=g({__name:"MarkdownInput",props:{modelValue:{},environment:{},envVariables:{},workspace:{}},emits:["update:modelValue"],setup(w,{emit:r}){const d=r,t=V("preview"),i=V(null);return I(t,a=>{a==="edit"&&j(()=>{var e;(e=i.value)==null||e.focus()})}),(a,e)=>(n(),v("div",D,[o("div",M,[e[6]||(e[6]=o("h3",{class:"font-bold"},"Description",-1)),t.value==="preview"?(n(),c(l(h),{key:0,class:"text-c-2 hover:text-c-1 flex items-center gap-2",size:"sm",type:"button",variant:"outlined",onClick:e[0]||(e[0]=s=>t.value="edit")},{default:p(()=>[m(l(k),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[5]||(e[5]=o("span",null,"Edit",-1))]),_:1})):u("",!0)]),o("div",N,[o("div",U,[t.value==="preview"?(n(),v(x,{key:0},[a.modelValue&&a.modelValue.trim().length?(n(),v(x,{key:0},[a.modelValue?(n(),c(l(y),{key:0,class:"h-full flex-1 rounded border border-transparent p-1.5 hover:border-(--scalar-background-3)",value:a.modelValue,withImages:"",onDblclick:e[1]||(e[1]=s=>t.value="edit")},null,8,["value"])):u("",!0),e[7]||(e[7]=o("div",{class:"brightness-lifted bg-b-1 absolute inset-0 -z-1 hidden rounded group-hover:block group-has-[:focus-visible]:hidden"},null,-1))],64)):(n(),v("div",F,[m(l(h),{class:"hover:bg-b-2 hover:text-c-1 text-c-2 flex items-center gap-2",size:"sm",variant:"ghost",onClick:e[2]||(e[2]=s=>t.value="edit")},{default:p(()=>[m(l(k),{icon:"Pencil",size:"sm",thickness:"1.5"}),e[8]||(e[8]=o("span",null,"Write a description",-1))]),_:1})]))],64)):u("",!0),t.value==="edit"?(n(),c(_,{key:1,ref_key:"codeInputRef",ref:i,class:"h-full flex-1 border px-0.5 py-0",envVariables:a.envVariables,environment:a.environment,modelValue:a.modelValue,workspace:a.workspace,onBlur:e[3]||(e[3]=s=>t.value="preview"),"onUpdate:modelValue":e[4]||(e[4]=s=>d("update:modelValue",s))},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)])])]))}}),W=z(P,[["__scopeId","data-v-1d968b50"]]),R=g({__name:"CollectionOverview",setup(w){const{activeCollection:r,activeEnvironment:d,activeEnvVariables:t,activeWorkspace:i}=C(),{collectionMutators:a}=B(),e=s=>{r.value&&a.edit(r.value.uid,"info.description",s)};return(s,A)=>(n(),c(E,null,{default:p(()=>{var f,b;return[l(d)&&l(i)?(n(),c(W,{key:0,envVariables:l(t),environment:l(d),modelValue:((b=(f=l(r))==null?void 0:f.info)==null?void 0:b.description)??"",workspace:l(i),"onUpdate:modelValue":e},null,8,["envVariables","environment","modelValue","workspace"])):u("",!0)]}),_:1}))}});export{R as default};
